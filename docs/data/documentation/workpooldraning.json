{"hierarchy":{"paths":[[]]},"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"symbol","primaryContentSections":[{"content":[{"anchor":"Overview","level":2,"text":"Overview","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Package provides few work pools, depending on knowledge of input tasks beforehand.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"All work pools in package are "},{"type":"codeVoice","code":"AsyncSequence"},{"type":"text","text":", which works on push approach. It means that work will be executed even if no one iterate over it."}]},{"level":2,"type":"heading","anchor":"How-to-choose-correct-work-pool","text":"How to choose correct work pool?"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Package contains 2 type of pools: static and dynamic. Dynamic pool allow you to add work tasks while it is executing."},{"text":" ","type":"text"},{"text":"Static pool on other hand execute same task on predefined collection of elements.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"On top of that, choose which basis you want: DispatchQueue or Structured Concurrency."}]},{"inlineContent":[{"type":"text","text":"Decision tree:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Static + DispatchQueue: "},{"identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/StaticSyncWorkPoolDrainer","isActive":true,"type":"reference"}]}]},{"content":[{"inlineContent":[{"text":"Static + Structured Concurrency: ","type":"text"},{"identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/StaticAsyncWorkPoolDrainer","type":"reference","isActive":true}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Dynamic + Structured Concurrency: "},{"isActive":true,"type":"reference","identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/DynamicAsyncWorkPoolDrainer"}]}]}],"type":"unorderedList"},{"level":2,"anchor":"Process-existed-collection","text":"Process existed collection","type":"heading"},{"inlineContent":[{"type":"text","text":"Also you can use "},{"type":"codeVoice","code":"process"},{"text":" method on ","type":"text"},{"code":"Collection","type":"codeVoice"},{"type":"text","text":" or "},{"code":"AsyncSequence","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Keep in mind that clousre might be called in random order, depending on an execution speed of each process call."}],"type":"paragraph"},{"type":"codeListing","syntax":null,"code":["try await array.process(limitingMaxConcurrentOperationCountTo: 5, { ... })"]},{"level":2,"type":"heading","text":"Why?","anchor":"Why"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Why do we need this package, if we have TaskGroup?"}]},{"type":"paragraph","inlineContent":[{"code":"TaskGroup","type":"codeVoice"},{"type":"text","text":" do not allow to limit number of simultaneous executions, which is important in some cases:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Internet bandwidth is limited, no reason to trigger unlimited amount of connections","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Storage bandwidth is limited, no reason to start thousands of read\/write operations at the same time","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Needs to limit CPU usage, because you need to use mac, while it executes long running tasks in background"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Define QoS not always enough, as you might want to have more control over number of simultaneous executions and do not depend on QoS evristics"}]}]}],"type":"unorderedList"}],"kind":"content"}],"abstract":[{"type":"text","text":"This package aim to help with execution of big amount of tasks, but limit number of simultaneously executed tasks."}],"sections":[],"identifier":{"url":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning","interfaceLanguage":"swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/workpooldraning"]}],"topicSections":[{"identifiers":["doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/DynamicAsyncWorkPoolDrainer","doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/StaticAsyncWorkPoolDrainer","doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/StaticSyncWorkPoolDrainer"],"title":"Work Pool Drainers"},{"title":"Protocols","identifiers":["doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/WorkPoolDrainer"]},{"identifiers":["doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/AsyncDrainerIterator"],"title":"Structures"},{"title":"Enumerations","identifiers":["doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/WorkPoolDrainerError"]},{"title":"Extended Modules","identifiers":["doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/Swift"]}],"metadata":{"roleHeading":"Framework","externalID":"WorkPoolDraning","symbolKind":"module","role":"collection","title":"WorkPoolDraning","modules":[{"name":"WorkPoolDraning"}]},"references":{"doc://WorkPoolDraning/documentation/WorkPoolDraning":{"abstract":[{"text":"This package aim to help with execution of big amount of tasks, but limit number of simultaneously executed tasks.","type":"text"}],"role":"collection","url":"\/documentation\/workpooldraning","type":"topic","title":"WorkPoolDraning","kind":"symbol","identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning"},"doc://WorkPoolDraning/documentation/WorkPoolDraning/StaticSyncWorkPoolDrainer":{"identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/StaticSyncWorkPoolDrainer","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"StaticSyncWorkPoolDrainer","kind":"identifier"}],"kind":"symbol","abstract":[{"text":"Executed sync process block on predefined stack of elements, limiting number of simultaneous executions","type":"text"}],"title":"StaticSyncWorkPoolDrainer","url":"\/documentation\/workpooldraning\/staticsyncworkpooldrainer","role":"symbol","type":"topic","navigatorTitle":[{"text":"StaticSyncWorkPoolDrainer","kind":"identifier"}]},"doc://WorkPoolDraning/documentation/WorkPoolDraning/WorkPoolDrainerError":{"kind":"symbol","type":"topic","navigatorTitle":[{"text":"WorkPoolDrainerError","kind":"identifier"}],"url":"\/documentation\/workpooldraning\/workpooldrainererror","role":"symbol","title":"WorkPoolDrainerError","abstract":[],"identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/WorkPoolDrainerError","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WorkPoolDrainerError","kind":"identifier"}]},"doc://WorkPoolDraning/documentation/WorkPoolDraning/DynamicAsyncWorkPoolDrainer":{"title":"DynamicAsyncWorkPoolDrainer","type":"topic","identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/DynamicAsyncWorkPoolDrainer","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DynamicAsyncWorkPoolDrainer","kind":"identifier"}],"navigatorTitle":[{"text":"DynamicAsyncWorkPoolDrainer","kind":"identifier"}],"url":"\/documentation\/workpooldraning\/dynamicasyncworkpooldrainer","abstract":[{"text":"Drain dynamically sized pool of work, limiting number of simultaneous executions","type":"text"}],"kind":"symbol"},"doc://WorkPoolDraning/documentation/WorkPoolDraning/WorkPoolDrainer":{"type":"topic","abstract":[],"identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/WorkPoolDrainer","title":"WorkPoolDrainer","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"kind":"identifier","text":"WorkPoolDrainer"}],"role":"symbol","navigatorTitle":[{"text":"WorkPoolDrainer","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/workpooldraning\/workpooldrainer"},"doc://WorkPoolDraning/documentation/WorkPoolDraning/AsyncDrainerIterator":{"navigatorTitle":[{"text":"AsyncDrainerIterator","kind":"identifier"}],"identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/AsyncDrainerIterator","title":"AsyncDrainerIterator","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"AsyncDrainerIterator","kind":"identifier"}],"role":"symbol","kind":"symbol","type":"topic","abstract":[],"url":"\/documentation\/workpooldraning\/asyncdraineriterator"},"doc://WorkPoolDraning/documentation/WorkPoolDraning/Swift":{"abstract":[],"title":"Swift","url":"\/documentation\/workpooldraning\/swift","kind":"symbol","role":"collection","identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/Swift","type":"topic"},"doc://WorkPoolDraning/documentation/WorkPoolDraning/StaticAsyncWorkPoolDrainer":{"fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"StaticAsyncWorkPoolDrainer"}],"kind":"symbol","url":"\/documentation\/workpooldraning\/staticasyncworkpooldrainer","type":"topic","identifier":"doc:\/\/WorkPoolDraning\/documentation\/WorkPoolDraning\/StaticAsyncWorkPoolDrainer","abstract":[{"type":"text","text":"Executed async process block on predefined stack of elements, limiting number of simultaneous executions"}],"title":"StaticAsyncWorkPoolDrainer","role":"symbol","navigatorTitle":[{"text":"StaticAsyncWorkPoolDrainer","kind":"identifier"}]}}}